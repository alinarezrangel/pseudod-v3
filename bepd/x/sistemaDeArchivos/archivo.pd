utilizar bepd/builtins
utilizar bepd/x/puerto como Puerto
utilizar bepd/x/puerto/deArchivo como PDA


procedimiento LeerArchivo: nombre
    variables pt, txt, car
    fijar pt a PDA#PuertoDeArchivoDeLectura#abrir: nombre
    fijar txt a {}
    fijar car a pt#leerCarácter
    mientras no (car = Puerto#EOF)
        fijar txt a txt#concatenar: car
        fijar car a pt#leerCarácter
    finmientras
    pt#cerrar
    devolver txt
finprocedimiento


procedimiento Existe: nombre
    [ TODO: Debería ser una llamada a stat(2) ]
    variables p, exs
    fijar p a PDA#PuertoDeArchivoDeLectura#abrir: nombre
    fijar exs a p#archivo#estaAbierto
    p#cerrar
    devolver exs
finprocedimiento


procedimiento EscribirArchivo: nombre, contenido
    variable pt
    fijar pt a PDA#PuertoDeArchivoDeEscritura#abrir: nombre
    pt#escribirTexto: contenido
    pt#cerrar
finprocedimiento
